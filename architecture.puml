@startuml
!theme sunlust
title Boxer Training Dashboard - Infra

node "Docker Host" {
  component "Cloudflared (tunnel)" as Tunnel #Orange
  component "Caddy (reverse proxy)" as Proxy #Yellow

  package "web network" {
    component "Frontend (nginx static)" as Front
    component "Backend (Flask API)" as Back
    component "Portainer (admin)" as Admin
  }

  package "db network (internal)" {
    database "MySQL" as DB
  }
}

cloud "Internet" {
  actor User
}

User --> Tunnel : HTTPS
Tunnel --> Proxy : HTTP :80
Proxy --> Front : /
Proxy --> Back : /api
Proxy --> Admin : /admin
Back --> DB : SQL

@enduml
